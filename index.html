<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <meta name="description" content="Dompetku - Aplikasi Keuangan Pribadi Premium">
  <title>celengan </title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary: #4361ee;
      --primary-dark: #3a0ca3;
      --secondary: #3f37c9;
      --success: #4cc9f0;
      --danger: #f72585;
      --warning: #f8961e;
      --light: #f8f9fa;
      --dark: #212529;
      --gray: #6c757d;
      --bg-dark: #121212;
      --card-dark: #1e1e1e;
      --input-dark: #2d2d2d;
      --border-radius: 12px;
      --box-shadow: 0 8px 30px rgba(0, 0, 0, 0.12);
      --transition: all 0.3s ease;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html, body {
      background: var(--bg-dark);
      color: var(--light);
      font-family: 'Poppins', 'Segoe UI', sans-serif;
      line-height: 1.6;
      overflow-x: hidden;
      min-height: 100vh;
    }

    @font-face {
      font-family: 'Poppins';
      src: url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
    }

    header {
      background: linear-gradient(135deg, var(--primary), var(--primary-dark));
      color: white;
      padding: 1.5rem;
      text-align: center;
      font-size: 1.5rem;
      font-weight: 600;
      width: 100%;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      position: relative;
      z-index: 10;
    }

    .app-container {
      max-width: 600px;
      margin: 0 auto;
      padding: 1.5rem;
      animation: fadeIn 0.5s forwards;
    }

    .stats-container {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1rem;
      margin-bottom: 1.5rem;
    }

    .stat-card {
      background: var(--card-dark);
      border-radius: var(--border-radius);
      padding: 1.2rem;
      text-align: center;
      box-shadow: var(--box-shadow);
      transition: var(--transition);
    }

    .stat-card:hover {
      transform: translateY(-5px);
    }

    .stat-card h3 {
      font-size: 0.9rem;
      font-weight: 500;
      margin-bottom: 0.5rem;
      color: var(--gray);
    }

    .stat-card .amount {
      font-size: 1.3rem;
      font-weight: 600;
    }

    .stat-card.income .amount {
      color: var(--success);
    }

    .stat-card.expense .amount {
      color: var(--danger);
    }

    .stat-card.balance .amount {
      color: var(--primary);
    }

    .form-container {
      background: var(--card-dark);
      border-radius: var(--border-radius);
      padding: 1.5rem;
      margin-bottom: 1.5rem;
      box-shadow: var(--box-shadow);
    }

    .form-group {
      margin-bottom: 1.2rem;
    }

    .form-group label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 500;
      font-size: 0.95rem;
    }

    input, select, textarea {
      width: 100%;
      padding: 0.8rem 1rem;
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: var(--border-radius);
      font-size: 1rem;
      background: var(--input-dark);
      color: var(--light);
      transition: var(--transition);
    }

    input:focus, select:focus, textarea:focus {
      border-color: var(--primary);
      outline: none;
      box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
    }

    .input-with-icon {
      position: relative;
    }

    .input-with-icon i {
      position: absolute;
      left: 1rem;
      top: 50%;
      transform: translateY(-50%);
      color: var(--gray);
    }

    .input-with-icon input {
      padding-left: 2.5rem;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      padding: 0.8rem 1.5rem;
      border: none;
      border-radius: var(--border-radius);
      font-size: 1rem;
      font-weight: 500;
      cursor: pointer;
      transition: var(--transition);
      width: 100%;
    }

    .btn i {
      margin-right: 0.5rem;
    }

    .btn-primary {
      background: var(--primary);
      color: white;
    }

    .btn-primary:hover {
      background: var(--primary-dark);
      transform: translateY(-2px);
    }

    .btn-danger {
      background: var(--danger);
      color: white;
    }

    .btn-danger:hover {
      background: #d1145a;
      transform: translateY(-2px);
    }

    .btn-success {
      background: var(--success);
      color: var(--dark);
    }

    .btn-success:hover {
      background: #3ab4d9;
      transform: translateY(-2px);
    }

    .btn-warning {
      background: var(--warning);
      color: var(--dark);
    }

    .btn-warning:hover {
      background: #e68a19;
      transform: translateY(-2px);
    }

    .transactions-container {
      margin-top: 1.5rem;
    }

    .section-title {
      font-size: 1.2rem;
      font-weight: 600;
      margin-bottom: 1rem;
      display: flex;
      align-items: center;
    }

    .section-title i {
      margin-right: 0.5rem;
      color: var(--primary);
    }

    .transaction-item {
      background: var(--card-dark);
      border-radius: var(--border-radius);
      padding: 1rem;
      margin-bottom: 0.8rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: var(--box-shadow);
      transition: var(--transition);
      border-left: 4px solid var(--primary);
    }

    .transaction-item:hover {
      transform: translateX(5px);
    }

    .transaction-item.income {
      border-left-color: var(--success);
    }

    .transaction-item.expense {
      border-left-color: var(--danger);
    }

    .transaction-info {
      flex: 1;
    }

    .transaction-name {
      font-weight: 500;
      margin-bottom: 0.3rem;
    }

    .transaction-date {
      font-size: 0.8rem;
      color: var(--gray);
    }

    .transaction-amount {
      font-weight: 600;
      font-size: 1.1rem;
    }

    .transaction-item.income .transaction-amount {
      color: var(--success);
    }

    .transaction-item.expense .transaction-amount {
      color: var(--danger);
    }

    .transaction-actions {
      display: flex;
      gap: 0.5rem;
      margin-left: 1rem;
    }

    .action-btn {
      background: none;
      border: none;
      color: var(--gray);
      cursor: pointer;
      transition: var(--transition);
      font-size: 0.9rem;
    }

    .action-btn:hover {
      color: var(--light);
    }

    .action-btn.edit:hover {
      color: var(--warning);
    }

    .action-btn.delete:hover {
      color: var(--danger);
    }

    .savings-goal {
      background: var(--card-dark);
      border-radius: var(--border-radius);
      padding: 1.5rem;
      margin-top: 1.5rem;
      box-shadow: var(--box-shadow);
      text-align: center;
    }

    .savings-goal h3 {
      margin-bottom: 0.5rem;
      font-weight: 500;
    }

    .savings-progress {
      height: 10px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 5px;
      margin: 1rem 0;
      overflow: hidden;
    }

    .progress-bar {
      height: 100%;
      background: linear-gradient(90deg, var(--primary), var(--success));
      border-radius: 5px;
      transition: width 0.5s ease;
    }

    .savings-info {
      display: flex;
      justify-content: space-between;
      font-size: 0.9rem;
      color: var(--gray);
    }

    .savings-actions {
      display: flex;
      gap: 0.5rem;
      margin-top: 1rem;
    }

    .empty-state {
      text-align: center;
      padding: 2rem;
      color: var(--gray);
    }

    .empty-state i {
      font-size: 3rem;
      margin-bottom: 1rem;
      color: var(--primary);
      opacity: 0.5;
    }

    .empty-state p {
      margin-top: 0.5rem;
    }

    .category-tag {
      display: inline-block;
      padding: 0.2rem 0.5rem;
      background: rgba(67, 97, 238, 0.2);
      border-radius: 20px;
      font-size: 0.7rem;
      color: var(--primary);
      margin-top: 0.3rem;
    }

    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 100;
      opacity: 0;
      visibility: hidden;
      transition: var(--transition);
    }

    .modal.active {
      opacity: 1;
      visibility: visible;
    }

    .modal-content {
      background: var(--card-dark);
      border-radius: var(--border-radius);
      width: 90%;
      max-width: 500px;
      padding: 2rem;
      box-shadow: 0 10px 50px rgba(0, 0, 0, 0.3);
      transform: translateY(-20px);
      transition: var(--transition);
    }

    .modal.active .modal-content {
      transform: translateY(0);
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
    }

    .modal-header h3 {
      font-size: 1.3rem;
    }

    .close-modal {
      background: none;
      border: none;
      color: var(--gray);
      font-size: 1.5rem;
      cursor: pointer;
      transition: var(--transition);
    }

    .close-modal:hover {
      color: var(--danger);
    }

    .category-selector {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 0.5rem;
      margin: 1rem 0;
    }

    .category-option {
      padding: 0.5rem;
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: var(--border-radius);
      text-align: center;
      cursor: pointer;
      transition: var(--transition);
    }

    .category-option:hover {
      border-color: var(--primary);
    }

    .category-option.selected {
      background: rgba(67, 97, 238, 0.2);
      border-color: var(--primary);
    }

    .category-option i {
      display: block;
      font-size: 1.5rem;
      margin-bottom: 0.3rem;
    }

    .tabs {
      display: flex;
      margin-bottom: 1.5rem;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }

    .tab {
      padding: 0.5rem 1rem;
      cursor: pointer;
      position: relative;
      font-weight: 500;
      color: var(--gray);
    }

    .tab.active {
      color: var(--primary);
    }

    .tab.active::after {
      content: '';
      position: absolute;
      bottom: -1px;
      left: 0;
      width: 100%;
      height: 2px;
      background: var(--primary);
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    .chart-container {
      height: 250px;
      margin: 1.5rem 0;
      position: relative;
    }

    .chart-placeholder {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
    }

    .chart-legend {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      justify-content: center;
      margin-top: 1rem;
    }

    .legend-item {
      display: flex;
      align-items: center;
      font-size: 0.8rem;
    }

    .legend-color {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      margin-right: 0.5rem;
    }

    .reset-section {
      margin-top: 1.5rem;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      padding-top: 1.5rem;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes fadeOut {
      from { opacity: 1; }
      to { opacity: 0; }
    }

    @media (max-width: 480px) {
      .stats-container {
        grid-template-columns: 1fr;
      }
      
      .category-selector {
        grid-template-columns: repeat(2, 1fr);
      }
    }
  </style>
</head>
<body>
  <header>
    <i class="fas fa-wallet"></i> celengan
  </header>

  <div class="app-container">
    <div class="stats-container">
      <div class="stat-card balance">
        <h3>Saldo</h3>
        <div class="amount" id="balance">Rp0</div>
      </div>
      <div class="stat-card income">
        <h3>Pemasukan</h3>
        <div class="amount" id="income">Rp0</div>
      </div>
      <div class="stat-card expense">
        <h3>Pengeluaran</h3>
        <div class="amount" id="expense">Rp0</div>
      </div>
    </div>

    <div class="form-container">
      <div class="tabs">
        <div class="tab active" data-tab="transaction">Transaksi</div>
        <div class="tab" data-tab="savings">Tabungan</div>
        <div class="tab" data-tab="stats">Statistik</div>
      </div>

      <div class="tab-content active" id="transaction-tab">
        <div class="form-group">
          <label for="transaction-name">Nama Transaksi</label>
          <div class="input-with-icon">
            <i class="fas fa-tag"></i>
            <input type="text" id="transaction-name" placeholder="Contoh: Gaji Bulanan">
          </div>
        </div>

        <div class="form-group">
          <label for="transaction-amount">Jumlah</label>
          <div class="input-with-icon">
            <i class="fas fa-money-bill-wave"></i>
            <input type="text" id="transaction-amount" placeholder="Contoh: 1.000.000">
          </div>
        </div>

        <div class="form-group">
          <label for="transaction-type">Jenis Transaksi</label>
          <select id="transaction-type">
            <option value="income">Pemasukan</option>
            <option value="expense">Pengeluaran</option>
          </select>
        </div>

        <div class="form-group">
          <label for="transaction-category">Kategori</label>
          <input type="text" id="transaction-category" placeholder="Pilih kategori" readonly onclick="openCategoryModal()">
        </div>

        <div class="form-group">
          <label for="transaction-date">Tanggal</label>
          <input type="date" id="transaction-date">
        </div>

        <div class="form-group">
          <label for="transaction-notes">Catatan (Opsional)</label>
          <textarea id="transaction-notes" rows="2" placeholder="Tambahkan catatan..."></textarea>
        </div>

        <button class="btn btn-primary" onclick="addTransaction()">
          <i class="fas fa-plus"></i> Tambah Transaksi
        </button>

        <div class="reset-section">
          <button class="btn btn-danger" onclick="resetAllTransactions()">
            <i class="fas fa-trash-alt"></i> Reset Semua Transaksi
          </button>
        </div>
      </div>

      <div class="tab-content" id="savings-tab">
        <div class="form-group">
          <label for="savings-goal">Target Tabungan</label>
          <div class="input-with-icon">
            <i class="fas fa-bullseye"></i>
            <input type="text" id="savings-goal" placeholder="Contoh: 5.000.000">
          </div>
        </div>

        <div class="form-group">
          <label for="savings-name">Nama Tabungan</label>
          <div class="input-with-icon">
            <i class="fas fa-piggy-bank"></i>
            <input type="text" id="savings-name" placeholder="Contoh: Liburan Akhir Tahun">
          </div>
        </div>

        <button class="btn btn-success" onclick="updateSavingsGoal()">
          <i class="fas fa-save"></i> Simpan Target
        </button>

        <div class="savings-goal" id="savings-display" style="display: none;">
          <h3 id="savings-title">Tabungan: Liburan</h3>
          <div class="savings-progress">
            <div class="progress-bar" id="savings-progress" style="width: 0%"></div>
          </div>
          <div class="savings-info">
            <span id="savings-current">Rp0</span>
            <span id="savings-target">Rp5.000.000</span>
          </div>
          <div class="savings-actions">
            <button class="btn btn-warning" onclick="resetSavingsGoal()" style="width: 100%;">
              <i class="fas fa-redo"></i> Reset Tabungan
            </button>
          </div>
        </div>
      </div>

      <div class="tab-content" id="stats-tab">
        <h3 style="margin-bottom: 1rem;">Statistik Pengeluaran</h3>
        <div class="chart-container" id="expense-chart">
          <canvas id="chartCanvas"></canvas>
          <div class="chart-placeholder" id="chart-placeholder">
            <i class="fas fa-chart-pie"></i>
            <p>Data statistik akan muncul setelah Anda memiliki transaksi pengeluaran</p>
          </div>
        </div>
        <div class="chart-legend" id="chart-legend"></div>
      </div>
    </div>

    <div class="transactions-container">
      <div class="section-title">
        <i class="fas fa-history"></i> Riwayat Transaksi
      </div>
      
      <div id="transactions-list">
        <div class="empty-state">
          <i class="fas fa-exchange-alt"></i>
          <h4>Belum ada transaksi</h4>
          <p>Mulai tambahkan transaksi pertama Anda</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Category Selection Modal -->
  <div class="modal" id="category-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Pilih Kategori</h3>
        <button class="close-modal" onclick="closeCategoryModal()">&times;</button>
      </div>
      
      <div class="category-selector">
        <div class="category-option" data-category="Makanan" onclick="selectCategory(this)">
          <i class="fas fa-utensils"></i>
          Makanan
        </div>
        <div class="category-option" data-category="Transportasi" onclick="selectCategory(this)">
          <i class="fas fa-bus"></i>
          Transportasi
        </div>
        <div class="category-option" data-category="Belanja" onclick="selectCategory(this)">
          <i class="fas fa-shopping-bag"></i>
          Belanja
        </div>
        <div class="category-option" data-category="Hiburan" onclick="selectCategory(this)">
          <i class="fas fa-gamepad"></i>
          Hiburan
        </div>
        <div class="category-option" data-category="Kesehatan" onclick="selectCategory(this)">
          <i class="fas fa-heartbeat"></i>
          Kesehatan
        </div>
        <div class="category-option" data-category="Pendidikan" onclick="selectCategory(this)">
          <i class="fas fa-book"></i>
          Pendidikan
        </div>
        <div class="category-option" data-category="Tagihan" onclick="selectCategory(this)">
          <i class="fas fa-file-invoice-dollar"></i>
          Tagihan
        </div>
        <div class="category-option" data-category="Gaji" onclick="selectCategory(this)">
          <i class="fas fa-money-check-alt"></i>
          Gaji
        </div>
        <div class="category-option" data-category="Lainnya" onclick="selectCategory(this)">
          <i class="fas fa-ellipsis-h"></i>
          Lainnya
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    // App Data
    let transactions = JSON.parse(localStorage.getItem("transactions")) || [];
    let savingsGoal = JSON.parse(localStorage.getItem("savingsGoal")) || {
      target: 0,
      name: "",
      createdAt: new Date().toISOString()
    };
    let selectedCategory = "";
    let editingTransactionId = null;
    let expenseChart = null;

    // DOM Elements
    const balanceElement = document.getElementById("balance");
    const incomeElement = document.getElementById("income");
    const expenseElement = document.getElementById("expense");
    const transactionsList = document.getElementById("transactions-list");
    const savingsDisplay = document.getElementById("savings-display");
    const savingsTitle = document.getElementById("savings-title");
    const savingsProgress = document.getElementById("savings-progress");
    const savingsCurrent = document.getElementById("savings-current");
    const savingsTarget = document.getElementById("savings-target");
    const categoryModal = document.getElementById("category-modal");
    const chartPlaceholder = document.getElementById("chart-placeholder");
    const chartLegend = document.getElementById("chart-legend");

    // Initialize the app
    function init() {
      updateStats();
      renderTransactions();
      setupTabs();
      setupDateInput();
      checkSavingsGoal();
      
      // Format amount input
      document.getElementById("transaction-amount").addEventListener("input", function() {
        this.value = formatCurrencyInput(this.value);
      });
      
      document.getElementById("savings-goal").addEventListener("input", function() {
        this.value = formatCurrencyInput(this.value);
      });

      // Initialize chart
      initChart();
    }

    // Set up tab navigation
    function setupTabs() {
      const tabs = document.querySelectorAll(".tab");
      tabs.forEach(tab => {
        tab.addEventListener("click", () => {
          // Remove active class from all tabs and contents
          document.querySelectorAll(".tab").forEach(t => t.classList.remove("active"));
          document.querySelectorAll(".tab-content").forEach(c => c.classList.remove("active"));
          
          // Add active class to clicked tab and corresponding content
          tab.classList.add("active");
          const tabId = tab.getAttribute("data-tab");
          document.getElementById(`${tabId}-tab`).classList.add("active");

          // Update chart when stats tab is clicked
          if (tabId === "stats") {
            updateChart();
          }
        });
      });
    }

    // Set default date to today
    function setupDateInput() {
      const today = new Date().toISOString().split('T')[0];
      document.getElementById("transaction-date").value = today;
    }

    // Format currency input with thousand separators
    function formatCurrencyInput(value) {
      // Remove all non-digit characters
      let num = value.replace(/\D/g, "");
      
      // Format with thousand separators
      return num.replace(/\B(?=(\d{3})+(?!\d))/g, ".");
    }

    // Convert formatted string to number
    function parseCurrency(value) {
      if (!value) return 0;
      return parseInt(value.toString().replace(/\./g, "")) || 0;
    }

    // Add a new transaction
    function addTransaction() {
      const name = document.getElementById("transaction-name").value.trim();
      const amount = parseCurrency(document.getElementById("transaction-amount").value);
      const type = document.getElementById("transaction-type").value;
      const category = selectedCategory || "Lainnya";
      const date = document.getElementById("transaction-date").value;
      const notes = document.getElementById("transaction-notes").value.trim();
      
      if (!name || amount <= 0) {
        showAlert("Nama dan jumlah transaksi harus diisi!");
        return;
      }
      
      const transaction = {
        id: Date.now().toString(),
        name,
        amount,
        type,
        category,
        date,
        notes,
        createdAt: new Date().toISOString()
      };
      
      if (editingTransactionId) {
        // Update existing transaction
        const index = transactions.findIndex(t => t.id === editingTransactionId);
        if (index !== -1) {
          transactions[index] = transaction;
        }
        editingTransactionId = null;
        document.querySelector(".btn-primary i").className = "fas fa-plus";
        document.querySelector(".btn-primary").textContent = "Tambah Transaksi";
      } else {
        // Add new transaction
        transactions.push(transaction);
      }
      
      saveData();
      resetForm();
      updateStats();
      renderTransactions();
      updateChart();
    }

    // Edit transaction
    function editTransaction(id) {
      const transaction = transactions.find(t => t.id === id);
      if (!transaction) return;
      
      document.getElementById("transaction-name").value = transaction.name;
      document.getElementById("transaction-amount").value = transaction.amount.toLocaleString("id-ID");
      document.getElementById("transaction-type").value = transaction.type;
      document.getElementById("transaction-category").value = transaction.category;
      document.getElementById("transaction-date").value = transaction.date;
      document.getElementById("transaction-notes").value = transaction.notes || "";
      
      selectedCategory = transaction.category;
      editingTransactionId = id;
      
      document.querySelector(".btn-primary i").className = "fas fa-save";
      document.querySelector(".btn-primary").textContent = "Simpan Perubahan";
      
      // Scroll to form
      document.querySelector(".form-container").scrollIntoView({ behavior: "smooth" });
    }

    // Delete transaction
    function deleteTransaction(id) {
      if (!confirm("Apakah Anda yakin ingin menghapus transaksi ini?")) return;
      
      transactions = transactions.filter(t => t.id !== id);
      saveData();
      updateStats();
      renderTransactions();
      updateChart();
    }

    // Reset all transactions
    function resetAllTransactions() {
      if (!confirm("Apakah Anda yakin ingin menghapus SEMUA transaksi? Tindakan ini tidak dapat dibatalkan!")) return;
      
      transactions = [];
      saveData();
      updateStats();
      renderTransactions();
      updateChart();
      showAlert("Semua transaksi telah direset", "success");
    }

    // Reset savings goal
    function resetSavingsGoal() {
      if (!confirm("Apakah Anda yakin ingin mereset target tabungan?")) return;
      
      savingsGoal = {
        target: 0,
        name: "",
        createdAt: new Date().toISOString()
      };
      
      localStorage.setItem("savingsGoal", JSON.stringify(savingsGoal));
      checkSavingsGoal();
      document.getElementById("savings-goal").value = "";
      document.getElementById("savings-name").value = "";
      showAlert("Target tabungan telah direset", "success");
    }

    // Reset form
    function resetForm() {
      document.getElementById("transaction-name").value = "";
      document.getElementById("transaction-amount").value = "";
      document.getElementById("transaction-type").value = "income";
      document.getElementById("transaction-category").value = "";
      document.getElementById("transaction-date").value = new Date().toISOString().split('T')[0];
      document.getElementById("transaction-notes").value = "";
      selectedCategory = "";
    }

    // Update savings goal
    function updateSavingsGoal() {
      const target = parseCurrency(document.getElementById("savings-goal").value);
      const name = document.getElementById("savings-name").value.trim() || "Tabungan";
      
      if (target <= 0) {
        showAlert("Target tabungan harus lebih dari 0!");
        return;
      }
      
      savingsGoal = {
        target,
        name,
        createdAt: new Date().toISOString()
      };
      
      localStorage.setItem("savingsGoal", JSON.stringify(savingsGoal));
      checkSavingsGoal();
      showAlert("Target tabungan berhasil disimpan!", "success");
    }

    // Check and display savings goal
    function checkSavingsGoal() {
      if (savingsGoal.target > 0) {
        savingsDisplay.style.display = "block";
        savingsTitle.textContent = `Tabungan: ${savingsGoal.name}`;
        savingsTarget.textContent = `Rp${savingsGoal.target.toLocaleString("id-ID")}`;
        
        // Calculate current savings (income - expense)
        const stats = calculateStats();
        const currentSavings = stats.totalIncome - stats.totalExpense;
        savingsCurrent.textContent = `Rp${currentSavings.toLocaleString("id-ID")}`;
        
        // Calculate progress percentage
        const progress = Math.min((currentSavings / savingsGoal.target) * 100, 100);
        savingsProgress.style.width = `${progress}%`;
        
        // Update savings goal input fields
        document.getElementById("savings-goal").value = savingsGoal.target.toLocaleString("id-ID");
        document.getElementById("savings-name").value = savingsGoal.name;
      } else {
        savingsDisplay.style.display = "none";
      }
    }

    // Calculate statistics
    function calculateStats() {
      let totalIncome = 0;
      let totalExpense = 0;
      
      transactions.forEach(transaction => {
        if (transaction.type === "income") {
          totalIncome += transaction.amount;
        } else {
          totalExpense += transaction.amount;
        }
      });
      
      return {
        totalIncome,
        totalExpense,
        balance: totalIncome - totalExpense
      };
    }

    // Calculate expense by category
    function calculateExpenseByCategory() {
      const categories = {};
      
      transactions.forEach(transaction => {
        if (transaction.type === "expense") {
          if (!categories[transaction.category]) {
            categories[transaction.category] = 0;
          }
          categories[transaction.category] += transaction.amount;
        }
      });
      
      return categories;
    }

    // Update statistics display
    function updateStats() {
      const stats = calculateStats();
      
      balanceElement.textContent = `Rp${stats.balance.toLocaleString("id-ID")}`;
      incomeElement.textContent = `Rp${stats.totalIncome.toLocaleString("id-ID")}`;
      expenseElement.textContent = `Rp${stats.totalExpense.toLocaleString("id-ID")}`;
      
      checkSavingsGoal();
    }

    // Render transactions list
    function renderTransactions() {
      if (transactions.length === 0) {
        transactionsList.innerHTML = `
          <div class="empty-state">
            <i class="fas fa-exchange-alt"></i>
            <h4>Belum ada transaksi</h4>
            <p>Mulai tambahkan transaksi pertama Anda</p>
          </div>
        `;
        return;
      }
      
      // Sort by date (newest first)
      const sortedTransactions = [...transactions].sort((a, b) => 
        new Date(b.date) - new Date(a.date));
      
      let html = "";
      sortedTransactions.forEach(transaction => {
        html += `
          <div class="transaction-item ${transaction.type}">
            <div class="transaction-info">
              <div class="transaction-name">${transaction.name}</div>
              <div class="transaction-date">${formatDate(transaction.date)} • ${transaction.category}</div>
              ${transaction.notes ? `<small>${transaction.notes}</small>` : ''}
            </div>
            <div class="transaction-amount">
              ${transaction.type === "income" ? "+" : "-"}Rp${transaction.amount.toLocaleString("id-ID")}
            </div>
            <div class="transaction-actions">
              <button class="action-btn edit" onclick="editTransaction('${transaction.id}')">
                <i class="fas fa-edit"></i>
              </button>
              <button class="action-btn delete" onclick="deleteTransaction('${transaction.id}')">
                <i class="fas fa-trash"></i>
              </button>
            </div>
          </div>
        `;
      });
      
      transactionsList.innerHTML = html;
    }

    // Format date to Indonesian format
    function formatDate(dateString) {
      const options = { day: 'numeric', month: 'short', year: 'numeric' };
      return new Date(dateString).toLocaleDateString('id-ID', options);
    }

    // Initialize chart
    function initChart() {
      const ctx = document.getElementById('chartCanvas').getContext('2d');
      expenseChart = new Chart(ctx, {
        type: 'pie',
        data: {
          labels: [],
          datasets: [{
            data: [],
            backgroundColor: [],
            borderWidth: 1
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              display: false
            }
          }
        }
      });
    }

    // Update chart with expense data
    function updateChart() {
      const expenseData = calculateExpenseByCategory();
      const categories = Object.keys(expenseData);
      const amounts = Object.values(expenseData);

      if (categories.length === 0) {
        chartPlaceholder.style.display = "flex";
        chartLegend.innerHTML = "";
        return;
      }

      chartPlaceholder.style.display = "none";

      // Generate colors for each category
      const colors = generateColors(categories.length);

      // Update chart data
      expenseChart.data.labels = categories;
      expenseChart.data.datasets[0].data = amounts;
      expenseChart.data.datasets[0].backgroundColor = colors;
      expenseChart.update();

      // Update legend
      renderLegend(categories, colors);
    }

    // Generate distinct colors for chart
    function generateColors(count) {
      const colors = [];
      const hueStep = 360 / count;
      
      for (let i = 0; i < count; i++) {
        const hue = i * hueStep;
        colors.push(`hsl(${hue}, 70%, 60%)`);
      }
      
      return colors;
    }

    // Render chart legend
    function renderLegend(categories, colors) {
      let html = "";
      categories.forEach((category, index) => {
        html += `
          <div class="legend-item">
            <span class="legend-color" style="background: ${colors[index]}"></span>
            <span>${category}</span>
          </div>
        `;
      });
      chartLegend.innerHTML = html;
    }

    // Category modal functions
    function openCategoryModal() {
      categoryModal.classList.add("active");
    }

    function closeCategoryModal() {
      categoryModal.classList.remove("active");
    }

    function selectCategory(element) {
      // Remove selected class from all options
      document.querySelectorAll(".category-option").forEach(opt => 
        opt.classList.remove("selected"));
      
      // Add selected class to clicked option
      element.classList.add("selected");
      selectedCategory = element.getAttribute("data-category");
      document.getElementById("transaction-category").value = selectedCategory;
      closeCategoryModal();
    }

    // Show alert message
    function showAlert(message, type = "error") {
      const alert = document.createElement("div");
      alert.className = `alert ${type}`;
      alert.textContent = message;
      alert.style.position = "fixed";
      alert.style.bottom = "20px";
      alert.style.left = "50%";
      alert.style.transform = "translateX(-50%)";
      alert.style.padding = "12px 24px";
      alert.style.borderRadius = "var(--border-radius)";
      alert.style.backgroundColor = type === "error" ? "var(--danger)" : "var(--success)";
      alert.style.color = "white";
      alert.style.boxShadow = "var(--box-shadow)";
      alert.style.zIndex = "1000";
      alert.style.animation = "fadeIn 0.3s forwards";
      
      document.body.appendChild(alert);
      
      setTimeout(() => {
        alert.style.animation = "fadeOut 0.3s forwards";
        setTimeout(() => alert.remove(), 300);
      }, 3000);
    }

    // Save data to localStorage
    function saveData() {
      localStorage.setItem("transactions", JSON.stringify(transactions));
    }

    // Initialize the app when DOM is loaded
    document.addEventListener("DOMContentLoaded", init);
  </script>
</body>
</html>
<div>
</div>
<!-- Articles Section -->
<div class="articles-container">
  <h2 class="articles-title">Artikel Keuangan Pribadi</h2>

  <!-- Article 1 -->
  <div class="article-card">
    <img src="https://images.unsplash.com/photo-1554224155-6726b3ff858f?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Financial Planning" class="article-image">
    <div class="article-content">
      <h3 class="article-title">5 Langkah Sederhana untuk Mengatur Keuangan Pribadi</h3>
      <p class="article-text">Mengatur keuangan pribadi seringkali terasa rumit, tetapi dengan langkah-langkah sederhana, Anda bisa memulai perjalanan menuju kebebasan finansial. Pertama, buatlah anggaran bulanan. Catat semua pemasukan dan pengeluaran Anda. Kedua, prioritaskan kebutuhan di atas keinginan. Ketiga, sisihkan minimal 10% dari pendapatan untuk tabungan. Keempat, lunasi utang dengan bunga tinggi terlebih dahulu. Kelima, evaluasi secara berkala. Dengan disiplin, Anda akan melihat perbedaan signifikan dalam kondisi keuangan Anda.</p>
    </div>
  </div>

  <!-- Article 2 -->
  <div class="article-card">
    <img src="https://images.unsplash.com/photo-1579621970563-ebec7560ff3e?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Saving Money" class="article-image">
    <div class="article-content">
      <h3 class="article-title">Cara Efektif Menabung untuk Pemula</h3>
      <p class="article-text">Menabung adalah kebiasaan yang harus dibangun sejak dini. Mulailah dengan menentukan tujuan menabung, seperti dana darurat atau liburan. Gunakan metode "50-30-20": 50% untuk kebutuhan, 30% untuk keinginan, dan 20% untuk tabungan. Manfaatkan aplikasi keuangan seperti Celengan untuk memantau progres Anda. Jangan lupa untuk mengotomatiskan tabungan agar konsisten. Dengan cara ini, menabung akan menjadi kebiasaan yang menyenangkan dan bermanfaat untuk masa depan Anda.</p>
    </div>
  </div>

  <!-- Article 3 -->
  <div class="article-card">
    <img src="https://images.unsplash.com/photo-1607860108855-64acf2078ed9?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Emergency Fund" class="article-image">
    <div class="article-content">
      <h3 class="article-title">Mengapa Dana Darurat Penting dan Cara Membangunnya</h3>
      <p class="article-text">Dana darurat adalah tabungan yang digunakan untuk situasi tak terduga seperti sakit atau kehilangan pekerjaan. Idealnya, dana darurat mencakup 3-6 bulan pengeluaran. Mulailah dengan menabung sedikit demi sedikit. Pisahkan dana darurat dari rekening utama untuk menghindari godaan menggunakan. Rekening tabungan berjangka atau deposito bisa menjadi pilihan aman untuk menyimpan dana darurat. Artikel ini akan membahas strategi membangun dana darurat dengan cepat dan efektif.</p>
    </div>
  </div>

  <!-- Article 4 -->
  <div class="article-card">
    <img src="https://images.unsplash.com/photo-1507679799987-c73779587ccf?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Budgeting" class="article-image">
    <div class="article-content">
      <h3 class="article-title">Tips Mengurangi Pengeluaran Tanpa Mengurangi Kualitas Hidup</h3>
      <p class="article-text">Mengurangi pengeluaran tidak berarti hidup dengan serba kekurangan. Pertama, buat daftar belanja dan patuhi itu. Kedua, bandingkan harga sebelum membeli. Ketiga, manfaatkan diskon dan promo. Keempat, kurangi makan di luar dengan memasak sendiri. Kelima, batasi langganan yang tidak perlu seperti streaming atau gym. Dengan tips ini, Anda bisa menghemat tanpa merasa terbebani dan tetap menikmati hidup dengan baik.</p>
    </div>
  </div>

  <!-- Article 5 -->
  <div class="article-card">
    <img src="https://i.postimg.cc/hvKRbnp9/images-52.jpg" alt="Investing" class="article-image">
    <div class="article-content">
      <h3 class="article-title">Investasi untuk Pemula: Mulai dari Mana?</h3>
      <p class="article-text">Investasi adalah langkah penting untuk meningkatkan kekayaan. Mulailah dengan mempelajari dasar-dasar investasi seperti saham, reksadana, atau emas. Tentukan profil risiko Anda: konservatif, moderat, atau agresif. Gunakan platform investasi yang terpercaya dan mulailah dengan modal kecil. Diversifikasi portofolio untuk mengurangi risiko. Ingat, investasi adalah tentang kesabaran dan konsistensi. Artikel ini akan membahas berbagai pilihan investasi yang cocok untuk pemula.</p>
    </div>
  </div>

  <!-- Article 6 -->
  <div class="article-card">
    <img src="https://images.unsplash.com/photo-1579621970795-87facc2f976d?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Debt Management" class="article-image">
    <div class="article-content">
      <h3 class="article-title">Cara Melunasi Utang dengan Cepat</h3>
      <p class="article-text">Utang bisa menjadi beban finansial jika tidak dikelola dengan baik. Pertama, buat daftar semua utang beserta bunganya. Fokus pada utang dengan bunga tertinggi terlebih dahulu (metode avalanche). Kedua, negosiasikan suku bunga dengan kreditur. Ketiga, kurangi pengeluaran non-esensial untuk alokasi lebih besar ke pelunasan. Keempat, pertimbangkan konsolidasi utang jika memungkinkan. Disiplin adalah kunci utama untuk bebas dari utang secepat mungkin.</p>
    </div>
  </div>

  <!-- Article 7 -->
  <div class="article-card">
    <img src="https://images.unsplash.com/photo-1521791136064-7986c2920216?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Family Finance" class="article-image">
    <div class="article-content">
      <h3 class="article-title">Perencanaan Keuangan untuk Keluarga Muda</h3>
      <p class="article-text">Keluarga muda seringkali menghadapi tantangan keuangan seperti biaya anak dan cicilan rumah. Buat anggaran keluarga yang mencakup kebutuhan pokok, tabungan, dan investasi. Manfaatkan asuransi kesehatan dan pendidikan untuk perlindungan jangka panjang. Ajarkan anak tentang keuangan sejak dini. Diskusikan tujuan finansial bersama pasangan untuk memastikan keselarasan. Artikel ini memberikan panduan praktis mengelola keuangan keluarga dengan bijak.</p>
    </div>
  </div>

  <!-- Article 8 -->
  <div class="article-card">
    <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Passive Income" class="article-image">
    <div class="article-content">
      <h3 class="article-title">Mengenal Passive Income dan Cara Memulainya</h3>
      <p class="article-text">Passive income adalah pendapatan yang didapatkan dengan usaha minimal. Contohnya dividen saham, sewa properti, atau royalti dari karya kreatif. Mulailah dengan investasi kecil di reksadana atau saham dividen. Anda juga bisa memanfaatkan hobi seperti menulis atau fotografi untuk menghasilkan uang. Kuncinya adalah konsistensi dan ekspansi sumber pendapatan. Artikel ini menjelaskan berbagai cara menghasilkan passive income yang bisa Anda mulai sekarang.</p>
    </div>
  </div>

  <!-- Article 9 -->
  <div class="article-card">
    <img src="https://i.postimg.cc/Nj3VkY05/images-53.jpg" alt="Retirement Planning" class="article-image">
    <div class="article-content">
      <h3 class="article-title">Pentingnya Menyusun Rencana Pensiun Sejak Dini</h3>
      <p class="article-text">Pensiun mungkin terasa jauh, tetapi persiapan sejak dini akan memberikan ketenangan di masa tua. Hitung perkiraan dana pensiun yang dibutuhkan berdasarkan gaya hidup. Manfaatkan program pensiun dari perusahaan atau produk investasi jangka panjang seperti reksadana atau obligasi. Semakin awal Anda mulai, semakin kecil tekanan di masa depan. Artikel ini memberikan panduan praktis merencanakan masa pensiun yang nyaman.</p>
    </div>
  </div>
</div>
<style>
  body {
    background-color: #000; /* Background halaman hitam */
    color: #fff; /* Warna teks putih */
    margin: 0;
    font-family: Arial, sans-serif;
  }

  .articles-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 20px;
    padding: 20px;
  }

  .article-card {
    width: 300px;
    background: #111; /* Background kartu hitam pekat */
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 4px 8px rgba(255,255,255,0.1); /* Bayangan putih samar */
    display: flex;
    flex-direction: column;
  }

  .article-image {
    width: 100%;
    height: 200px;
    object-fit: cover;
  }

  .article-content {
    padding: 15px;
  }

  .article-title {
    font-size: 18px;
    margin-bottom: 10px;
    color: #fff;
  }

  .article-text {
    font-size: 14px;
    color: #ccc; /* Abu-abu muda biar tidak terlalu nyilauin */
    margin-bottom: 15px;
  }

  .read-more {
    color: #00aaff;
    text-decoration: none;
    font-weight: bold;
  }
</style>
